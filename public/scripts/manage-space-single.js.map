{"version":3,"names":[],"mappings":"","sources":["manage-space-single.js"],"sourcesContent":["const apiURL = \"http://api:9000/graphql\";\n\nvar app = new Vue({\n\tel: \"#app\",\n\tdata: {\n\t\tspaceName: \"\",\n\t\tspaceURI: \"\",\n\t\tspaceId: \"\",\n\t\tuploadBoxIsOpen: false,\n\t\tmemberToken: \"\"\n\t},\n\tcomputed: {\n\t\tcomputedSpaceURI: function() {\n\t\t\treturn this.spaceURI.toLowerCase().replace(/ /g, \"-\")\n\t\t}\n\t}\n});\n\nDropzone.options.imgDropzone = {\n\turl: \"temp\",\n\tmaxFiles: 1,\n\tautoProcessQueue: false,\n\tmethod: \"put\",\n\tacceptedFiles: \"image/*\",\n\theaders: [{\"Content-Type\": \"image/jpeg\"}],\n\tresizeWidth: 1000,\n\tresizeHeight: 500,\n\tresizeMethod: \"crop\",\n\tresizeMimeType: \"image/jpeg\",\n\tdictDefaultMessage: \"ลากภาพมาวางที่นี่ (อัพโหลดได้ 1 ภาพ)\",\n\tdictMaxFilesExceeded:\"เกินจำนวนไฟล์ที่อนุญาต\",\n\tdictInvalidFileType: \"ไม่ใช่รูปภาพ\",\n\tinit: function() {\n\t\tvar that = this;\n\t\tthis.on(\"addedfile\", function(file) {\n\t\t\taxios(apiURL, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tquery: `mutation {uploadSpaceImage(input: {spaceId: \"${app.spaceId}\"})}`\n\t\t\t\t\t},\n\t\t\t\t\theaders: {\"Authorization\": \"bearer\" + app.memberToken}\n\t\t\t\t})\n\t\t\t\t.then(function(data) {\n\t\t\t\t\tthat.options.url = data.data.data.uploadSpaceImage;\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tconsole.log(that.options.url);\n\t\t\t\t\tthat.processQueue();\n\t\t\t\t})\n\t\t\t\t.catch(function(err) { console.log(err) });\n\t\t});\n\t\tthis.on(\"sending\", function(file, xhr) {\n\t\t\tvar _send = xhr.send;\n\t\t\txhr.send = function() {_send.call(xhr, file);};\n\t\t});\n\t\tthis.on(\"success\", function(file) {\n\t\t\tdocument.getElementById(\"currentImg\").remove();\n\t\t});\n\t}\n}\n"],"file":"manage-space-single.js"}